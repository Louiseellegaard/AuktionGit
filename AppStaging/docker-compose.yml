services:

 vareservice:
     image: louiseellegaard/vareapi:latest-dev
     hostname: vareservice
     expose:
     - "80"

 budservice:
     image: louiseellegaard/budapi:latest-dev
     hostname: budservice
     expose:
     - "80"

 kundeservice:
     image: louiseellegaard/kundeapi:latest-dev
     hostname: kundeservice
     expose:
     - "80"

 auktionservice:
     image: louiseellegaard/auktionapi:latest-dev
     hostname: auktionservice
     expose:
     - "80"
  
 indexservice:
     image: indextest:latest
     hostname: auktionservice
     expose:
     - "80"   
  
  
 nginx:
     image: nginx:latest
     container_name: "gateway"
     volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./www:/www/data
     depends_on:
      - kundeservice
      - vareservice
      - budservice
      - auktionservice
      - indexservice
      
     ports:
      - "4000:4000"

networks:
  default:
    driver: bridge
    name: auktionshus